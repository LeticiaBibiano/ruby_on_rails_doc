# I18n
+ √â a sigla para **internacionalization** ("internacionaliza√ß√£o")
+ Isso permite que a aplica√ß√£o trabalhe com DIVERSOS IDIOMAS.
+ Por padr√£o o Rail trabalha com INGL√äS.
+ **Temos uma GEM com todos os idiomas que precisamos, a *'rails-i18n'* .**
+ [Ruby Guides - Sobre o I18n](https://guides.rubyonrails.org/i18n.html#translations-for)

# Instalando/ativando a Gem I18n

1. Adicionamos 'rails-i18n' no arquivo Gemfile.
2. Instala a Gem com *bundle install*.
3. Criamos o arquvo locale.rb dentro de üìÇ**config/initializers/locale.rb**
4. Dentro do novo arquivo criado, colocamos:
~~~
I18n.available_locales = [:en, 'pt-BR'] #indica os idiomas que queremos

I18n.default_locale = :en #indica o idioma padr√£o que aparecer√° primeiro
~~~

üßß Por padr√£o, as tradu√ß√µes ficam em üìÇ**config/locales**

üßß**Os arquivos devem sempre ter a extens√£o YML (YAML)!!!**üßß

# Usando o I18n NA VIEW

### Com o m√©todo-chave

+ **I18n.t( 'chave que est√° no arquivo da pasta locale' )**
+ Podemos usar apenas **t( 'chave' )

### M√©todo para data/hora

+ **I18n.l(Date.today)**

# Tradu√ß√£o para MODELS

+ Dentro do arquivo da tradu√ß√£o (üìÇ**config/locales**):
~~~
'pt-BR':
  activerecord:
    models:
      coin: 
        one: Moeda          #nome do model para o singular
        other: Moedas       #nome do model para o plural
    attributes:
      coin:
        id: C√≥digo
        description: Descri√ß√£o
        acronym: Sigla
        url_image: URL da Imagem
        updated_at: Atualizado em
        created_at: Criado em
~~~

+ Na **VIEW**, onde queremos traduzir:
~~~
    <%=  Model.human_attribute_name(attribute)  %>
    
    <%=  @coins.human_attribute_name( :description )  %> #exemplo
~~~

+ Traduzindo o nome do **MODEL** :
~~~  
    <%= link_to "#{NomeModel.model_name.human}"  %> #exemplo
~~~

+ PLURAL e SINGULAR de acordo com o n√∫mero de itens do MODEL:
~~~  
    <%= Coin.model_name.human(count: @coins.count) %> #exemplo
    
    #Analisar bem para usar, pois isso √© mais uma consulta ao banco de dados, QUE PODE DEIXAR A APP LENTA#
~~~

üßß **@COINS, pois √© a vari√°vel de sess√£o que armazena o model, caso haja alguma altera√ß√£o no nome do Model, a tradu√ß√£o n√£o ter√° problemas, pois seguir√° a vari√°vel e seu conte√∫do** | *A vari√°vel fica no CONTROLLER*. 

# V√°rios idiomas na execu√ß√£o (Bot√£o para alterar idioma funcionando)

+ No controller principal, üìÇ**app/controllers/application_controller.rb
~~~
  before_action :set_locale
      
  def set_locale
  
      if params[:locale]
        cookies[:locale] = params[:locale]
      end
      
      if cookies[:locale]
        if I18n.locale != cookies[:locale]
          I18n.locale = cookies[:locale]
        end
        
  end
~~~
*Isso ser√° carregado antes de qualquer a√ß√£o!*

## Mostrando o bot√£o de alterar idioma na VIEW

+ Exemplo com link/texto:
~~~
  <%= link_to 'Portugu√™s', root_path(locale: 'pt-BR') %>
  
  
  <%= link_to 'English', root_path(locale: 'en') %>  #entre parenteses √© o par√¢metro que queremos na URL!
~~~

